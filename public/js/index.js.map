{"version":3,"sources":["../../../node_modules/browser-pack/_prelude.js","index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$","selected","x_pos","x_elem","winW","window","innerWidth","wrapEle","Math","floor","document","getElementById","leftAudio","rightAudio","$controlBtn","loop","context","AudioContext","webkitAudioContext","leftAudioSource","createMediaElementSource","rightAudioSource","leftGain","createGain","rightGain","connect","destination","play","onmousedown","this","offsetLeft","onmousemove","all","event","clientX","pageX","style","width","leftVolume","toFixed","rightVolume","gain","setValueAtTime","currentTime","onmouseup","playing","click","pause","removeClass","addClass"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,IAAAS,YAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,EAAAa,GAAA,SAAAT,EAAAU,EAAAJ,gBC2BAK,EAAA,WAIE,IAAIC,EAAW,KACbC,EAAQ,EAFVC,EAAA,EACqBC,EAAAC,OAAAC,WAEPC,GAFdC,KAAAC,MAAAL,EAAA,GAAAM,SAE0BC,eAAA,iBAS1BC,EAAAF,SAAAC,eAAA,cAQIE,EAAaH,SAASC,eAAe,eANzCG,EAAAd,EAAA,kBAEAY,EAAAG,MAAA,EAQAF,EAAWE,MAAO,EALlB,IACIC,EAAA,IADYX,OAASY,cAAeZ,OAAAa,oBAEpCC,EAAgBH,EAAAI,yBAApBR,GAQIS,EAAmBL,EAAQI,yBAAyBP,GALxDS,EAAAN,EAAAO,aAQIC,EAAYR,EAAQO,aALxBJ,EAAcM,QAAIH,GAClBD,EAAII,QAAkBD,GAStBF,EAASG,QAAQT,EAAQU,aANzBF,EAAIC,QAAWT,EAAQU,aASvBd,EAAUe,OANVd,EAAAc,OAqDEjB,SAAAC,eAAA,WAAAiB,YAAA,WAEA,OAnDQ,EAQRzB,EAASD,GATXD,EAmDa4B,MA1CeC,YA2C1B,GAGFpB,SAASqB,YAjDT,SAAoBlD,GAWf,KAVHqB,GAAWQ,SAAXsB,IAAA3B,OAAA4B,MAAAC,QAAArD,EAAAsD,OAAAhC,GACW,IAAX,KAAAD,KACAA,EAAS,KAIXA,IAASE,EAAc,IAAAA,EAAA,GAAAF,KACnBA,EAASE,EAAS,IAGjB,OAAAH,EAAA,CAOCM,EAAQ6B,MAAMC,MAAQnC,EAAQ,KAI9B,IAAIoC,GAAepC,EAAQE,GAAOmC,QAAQ,GALxCC,EAAJ,EAAuBF,EAErBhB,EAAAmB,KAAAC,eAAAJ,EAAAtB,EAAA2B,aACAnB,EAAAiB,KAAAC,eAAAF,EAAAxB,EAAA2B,eA8BJjC,SAAAkC,UAzBI,SAAc/D,IAclB,EACAoB,EAAA,KACEC,EAAA,GAWH,IAHD2C,GAAA,EASA/B,EAAYgC,MAAM,SAACjE,GAJnBgE,GACAjC,EAASmC,QAMLlC,EAAWkC,QAJXF,GAAU,EACd/B,EAAYkC,YAAO,aAEfpC,EAAUe,OACVd,EAAWc,OACXkB,GAAU,EACV/B,EAAYmC,SAAA","file":"index.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","// import { Draggable } from '@shopify/draggable';\n\n// const ele = $('#handler')\n\n// $(function() {\n//   const draggable = new Draggable($('#app')[0], {\n//     draggable: ele[0],\n//   })\n\n//   // draggable.on('drag:start', (a, b, c) => {\n//   //   console.log('drag:start', e)\n//   // })\n\n//   draggable.on('drag:move', (e) => {\n//     let offsetX = e.data.sensorEvent.data.clientX\n//     ele.css({\n//       top: 0\n//     })\n//   })\n\n//   draggable.on('drag:stop',  (e) => {\n//     let offsetX = e.data.sensorEvent.data.clientX\n//     ele.css({\n//       left: offsetX\n//     })\n//   })\n// })\n// \n\n\n$(function() {\n  var selected = null, // Object of the element to be moved\n    x_pos = 0, y_pos = 0, // Stores x & y coordinates of the mouse pointer\n    x_elem = 0, y_elem = 0; // Stores top, left values (edge) of the element\n\n  let winW = window.innerWidth\n\n  let defaultWidth = Math.floor(winW / 2) + ''\n  let dragging = false\n\n  let wrapEle = document.getElementById('handler-wrap')\n  // let leftEle = document.getElementById('left')\n  // let rightEle = document.getElementById('right')\n\n  // console.log(leftEle, defaultWidth)\n  // document.getElementById(\"left\").innerHTML = defaultWidth\n  // document.getElementById(\"right\").innerHTML = defaultWidth\n\n\n  var leftAudio = document.getElementById('left-audio');\n  var rightAudio = document.getElementById('right-audio');\n  var $controlBtn = $('#stop-play-btn');\n\n  leftAudio.loop = true;\n  rightAudio.loop = true;\n\n  var AudioContext = window.AudioContext || window.webkitAudioContext;\n  var context = new AudioContext();\n  var leftAudioSource = context.createMediaElementSource(leftAudio);\n  var rightAudioSource = context.createMediaElementSource(rightAudio);\n\n  var leftGain = context.createGain();\n  var rightGain = context.createGain();\n\n  leftAudioSource.connect(leftGain);\n  rightAudioSource.connect(rightGain);\n\n  leftGain.connect(context.destination);\n  rightGain.connect(context.destination);\n\n  leftAudio.play();\n  rightAudio.play();\n\n  function _drag_init(elem) {\n    selected = elem;\n    dragging = true\n    x_elem = x_pos - selected.offsetLeft;\n  }\n\n\n  function _move_elem(e) {\n      x_pos = (document.all ? window.event.clientX : e.pageX) - x_elem;\n      if (x_pos < 12 || x_pos === 12) {\n        x_pos = 12\n      }\n\n      if (x_pos === winW - 10 || x_pos > winW - 10) {\n        x_pos = winW - 10\n      }\n\n      if (selected !== null) {\n        wrapEle.style.width = x_pos + 'px';\n        // leftEle.innerText = x_pos\n        // rightEle.innerText = winW - x_pos\n\n        let leftVolume = ((x_pos / winW)).toFixed(2)\n        let rightVolume = 1 - leftVolume\n\n        leftGain.gain.setValueAtTime(leftVolume, context.currentTime)\n        rightGain.gain.setValueAtTime(rightVolume, context.currentTime)\n      }\n  }\n\n\n  function _destroy(e) {\n    // x_pos = (document.all ? window.event.clientX : e.pageX) - x_elem;\n    // if (x_pos < 0 || x_pos === 10) {\n    //   x_pos = 10\n    // }\n\n    // if (x_pos === winW || x_pos > winW) {\n    //   x_pos = winW - 10\n    // }\n    // if (dragging) {\n      // console.log(x_pos)\n    // }\n\n    dragging = false;\n    selected = null;\n    x_pos = 0;\n  }\n\n  document.getElementById('handler').onmousedown = function () {\n    _drag_init(this);\n    return false;\n  };\n\n  document.onmousemove = _move_elem;\n  document.onmouseup = _destroy;\n\n  let playing = true;\n  $controlBtn.click((e) => {\n    if (playing) {\n      leftAudio.pause();\n      rightAudio.pause();\n      playing = false;\n      $controlBtn.removeClass('playing');\n    } else {\n      leftAudio.play();\n      rightAudio.play();\n      playing = true;\n      $controlBtn.addClass('playing');\n    }\n  })\n\n})\n"]}